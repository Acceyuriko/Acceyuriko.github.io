<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SPH 流体仿真</title>
      <link href="/2022/04/18/SPH%E6%B5%81%E4%BD%93%E4%BB%BF%E7%9C%9F/"/>
      <url>/2022/04/18/SPH%E6%B5%81%E4%BD%93%E4%BB%BF%E7%9C%9F/</url>
      
        <content type="html"><![CDATA[<p>效果如下图所示<br><img src="https://github.com/Acceyuriko/FluidSimulation/raw/main/Preview/preview.gif" alt="preview"></p><p>代码见 github: <a href="https://github.com/Acceyuriko/FluidSimulation">Fluid Simulation</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Unity </tag>
            
            <tag> DOTS </tag>
            
            <tag> SPH </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QtScrcpy 增加压枪</title>
      <link href="/2022/02/21/QtScrcpy%E5%A2%9E%E5%8A%A0%E5%8E%8B%E6%9E%AA/"/>
      <url>/2022/02/21/QtScrcpy%E5%A2%9E%E5%8A%A0%E5%8E%8B%E6%9E%AA/</url>
      
        <content type="html"><![CDATA[<p>手搓和平精英太伤眼睛，在淘宝买了北通E1接外设打，体验并不好，视角乱跳，投屏卡顿。 一顿研究发现了这个神器，<a href="https://github.com/barry-ran/QtScrcpy">QtScrcpy</a>，流畅，好用。不过相比淘宝的外设缺少了自动压枪功能，因此想着给 QtScrcpy 加上压枪功能。写篇博客记录一下制作流程。</p><p>基本思路是</p><ul><li>截取足够数量的游戏里的按钮图像，用 OpenCV 的 SVM 做训练，以识别人物蹲、趴、站状态，枪的类型，倍镜，以及是否开镜等状态</li><li>观察代码发现，QtScrcpy 使用 OpenGL 渲染 yuv 图像。因此在 render 过程中，每隔一段时间，取一帧图像出来，截取按钮位置的图像，交给 OpenCV 识别，按钮位置应该记录在配置文件中，方便修改</li><li>维护一个 map，根据不同的游戏状态，设置相对应的压枪参数，这个 map 也应该记录在配置文件中</li><li>添加一种按键类型 KMT_RECOIL，当按下该键时，发出 touchdown 事件，并根据压枪参数每帧或定时进行 touchmove， 当按钮抬起时，发出 touchup</li></ul><h3 id="实现过程（待续）"><a href="#实现过程（待续）" class="headerlink" title="实现过程（待续）"></a>实现过程（待续）</h3>]]></content>
      
      
      
        <tags>
            
            <tag> QtScrcpy </tag>
            
            <tag> 和平精英 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hades 作弊笔记</title>
      <link href="/2022/01/02/hades%E4%BD%9C%E5%BC%8A%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/01/02/hades%E4%BD%9C%E5%BC%8A%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><a href="https://store.steampowered.com/app/1145360/Hades">Hades</a>，很棒的游戏，但无奈游戏苦手，一直打不通。研究了一些作弊方法，记在这里。</p><p>注：没有特殊说明的话，文件前置目录均为 <code>path/to/hades/Content/Scripts</code> 目录。修改之后一般需要放弃当前进度，或者退出游戏重开。</p><h2 id="大厅兑换"><a href="#大厅兑换" class="headerlink" title="大厅兑换"></a>大厅兑换</h2><p>游戏里资源实在是太肝了，不想肝的话可以改了花费去商店免费换。</p><p><code>StoreData.lua</code> 下搜索 <code>BrokerData</code></p><ul><li>BuyName 购买的物资</li><li>BuyAmount 购买的数量</li><li>CostName 花费的物资</li><li>CostAmount 花费的数量</li></ul><p>物资名称如下</p><ul><li>MetaPoints 黑暗</li><li>Gems 宝石</li><li>LockKeys 钥匙</li><li>GiftPoints 蜜露</li><li>SuperGems 钻石</li><li>SuperGiftPoints 仙酒</li><li>SuperLockKeys 泰坦之血</li></ul><h2 id="镜子强化"><a href="#镜子强化" class="headerlink" title="镜子强化"></a>镜子强化</h2><p><code>MetaUpgradeData.lua</code> 文件下，找到想要的升级项，修改即可。</p><p>镜子的升级项如下：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MetaUpgradeOrder =</span><br><span class="line">&#123;</span><br><span class="line">&#123; <span class="string">&quot;BackstabMetaUpgrade&quot;</span>, <span class="string">&quot;FirstStrikeMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;DoorHealMetaUpgrade&quot;</span>, <span class="string">&quot;DarknessHealMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;ExtraChanceMetaUpgrade&quot;</span>, <span class="string">&quot;ExtraChanceReplenishMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;StaminaMetaUpgrade&quot;</span>, <span class="string">&quot;PerfectDashMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;StoredAmmoVulnerabilityMetaUpgrade&quot;</span>, <span class="string">&quot;StoredAmmoSlowMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;AmmoMetaUpgrade&quot;</span>, <span class="string">&quot;ReloadAmmoMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;MoneyMetaUpgrade&quot;</span>, <span class="string">&quot;InterestMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;HealthMetaUpgrade&quot;</span>, <span class="string">&quot;HighHealthDamageMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;VulnerabilityEffectBonusMetaUpgrade&quot;</span>, <span class="string">&quot;GodEnhancementMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;RareBoonDropMetaUpgrade&quot;</span>, <span class="string">&quot;RunProgressRewardMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;EpicBoonDropMetaUpgrade&quot;</span>, <span class="string">&quot;DuoRarityBoonDropMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;RerollMetaUpgrade&quot;</span>, <span class="string">&quot;RerollPanelMetaUpgrade&quot;</span> &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>每一项的基础参数如下</p><ul><li>Starting 是否不需要解锁</li><li>CostTable 每次升级要花费的黑暗，添加该项的数目，则可以提高解锁上限</li><li>ChangeValue 强化值</li></ul><h2 id="添加吸血"><a href="#添加吸血" class="headerlink" title="添加吸血"></a>添加吸血</h2><p>游戏里本身有一个吸血剑，把它的逻辑抄到想要添加吸血功能的 <code>trait</code> 中即可。</p><p>在 <code>TraitData.lua</code> 中，搜索 <code>AddOutgoingLifestealModifiers</code>，可以找到吸血的逻辑。</p><p>但是给每把武器都添加吸血，代码太多了。这里我给宙斯的闪电链祝福加上了吸血，这样只要抽到宙斯祝福就行。如下：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ZeusWeaponTrait =</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">-- previous logic</span></span><br><span class="line">    AddOutgoingLifestealModifiers =</span><br><span class="line">    &#123;</span><br><span class="line">        ValidWeapons = &#123;</span><br><span class="line">            <span class="string">&quot;SwordWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;SpearWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;BowWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ShieldWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;FistWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;GunWeapon&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        ValidMultiplier = <span class="number">1.00</span>,</span><br><span class="line">        MaxLifesteal = <span class="number">2</span>,</span><br><span class="line">        MinLifesteal = <span class="number">2</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">-- next logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="增加攻击速度"><a href="#增加攻击速度" class="headerlink" title="增加攻击速度"></a>增加攻击速度</h2><p>同上，在 ZeusWeaponTrait 中添加增加攻击速度的效果即可。 这里 BaseValue 即攻击的充能时间。</p><p>测试发现，攻击速度有提升但不到 0.5 这个程度，不清楚是哪里限制了最小值。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">PropertyChanges =</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">-- previous logic</span></span><br><span class="line">    &#123;</span><br><span class="line">        WeaponNames = &#123;</span><br><span class="line">            <span class="string">&quot;SwordWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;SpearWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;BowWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ShieldWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;FistWeapon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;GunWeapon&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        WeaponProperty = <span class="string">&quot;ChargeTime&quot;</span>,</span><br><span class="line">        BaseValue = <span class="number">0.5</span>,</span><br><span class="line">        SourceIsMultiplier = <span class="literal">true</span>,</span><br><span class="line">        ChangeType = <span class="string">&quot;Multiply&quot;</span>,</span><br><span class="line">        ExcludeLinked = <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">-- next logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="开局自带闪电链天赋"><a href="#开局自带闪电链天赋" class="headerlink" title="开局自带闪电链天赋"></a>开局自带闪电链天赋</h2><p>在 <code>RunMananger.lua</code>中，找到 <code>StartNewRun</code>，把这句话添加到最后面</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddTraitToHero(&#123; TraitName = <span class="string">&quot;ZeusWeaponTrait&quot;</span>, Rarity = <span class="string">&quot;Heroic&quot;</span> &#125;)</span><br></pre></td></tr></table></figure><p>加上上面两处修改，这样就有了增加攻速和吸血效果。</p><h2 id="无限逆天改命"><a href="#无限逆天改命" class="headerlink" title="无限逆天改命"></a>无限逆天改命</h2><p>在 <code>RunManager.lua</code> 中，找到 <code>StartNewRun</code>，预设了游戏初始化时的数据。 找到 <code>NumRerolls</code>，改大即可。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- CurrentRun.NumRerolls = GetNumMetaUpgrades( &quot;RerollMetaUpgrade&quot; ) + GetNumMetaUpgrades(&quot;RerollPanelMetaUpgrade&quot;)</span></span><br><span class="line">CurrentRun.NumRerolls = <span class="number">9999</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hades </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
